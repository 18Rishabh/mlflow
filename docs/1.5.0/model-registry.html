
  

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MLflow Model Registry &mdash; MLflow 1.5.0 documentation</title>
  
   
  <link rel="canonical" href="https://www.mlflow.org/docs/latest/model-registry.html">
  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    

    

  
    
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-WXWDBL');</script>
      

  

  
  
    

  

  
  
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    
    <link rel="stylesheet" href="_static/css/algolia.css" type="text/css" />
    
  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="MLflow 1.5.0 documentation" href="index.html"/>
        <link rel="next" title="Command-Line Interface" href="/cli.html"/>
        <link rel="prev" title="MLflow Models" href="/models.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  

  
  <nav class="wy-nav-top header" role="navigation" aria-label="top navigation">
    <ul>
  <li class="menu-toggle">
    <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
    <a href="index.html" class="wy-nav-top-logo"><img src="_static/MLflow-logo-final-black.png" alt="MLFlow" /></a> <span class="version">1.5.0</span>
  </li>
</ul>
  </nav>
  <page>
    

    <nav data-toggle="wy-nav-shift" class="wy-nav-side relative">
      <div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    
<div role="search">
  
  <input id="algolia-search" type="text" name="q" placeholder="Search" />
  
</div>


    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="index.html" class="main-navigation-home"><img src="_static/icons/nav-home.svg"> MLflow</a>
    

    
      

      
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-and-examples/index.html">Tutorials and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracking.html">MLflow Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">MLflow Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">MLflow Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MLflow Model Registry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-an-mlflow-model-to-the-model-registry">Adding an MLflow Model to the Model Registry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ui-workflow">UI Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-workflow">API Workflow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command-Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="search-syntax.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_api/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="R-api.html">R API</a></li>
<li class="toctree-l1"><a class="reference internal" href="java_api/index.html">Java API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest-api.html">REST API</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    

    <p>
      <a id='feedbacklink' href="https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.rst" target="_blank">Contribute</a>
    </p>
  </div>
</div>
    </nav>

    <main class="wy-grid-for-nav">
      <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
        <div class="wy-nav-content">
          <div class="rst-content">
            










<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>MLflow Model Registry</li>
    
    
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/mlflow/mlflow/blob/master/docs/source/model-registry.rst" class="fa fa-github"> Edit on GitHub</a>
    </li>
    
  </ul>
</div>
            <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
              <div itemprop="articleBody">
                
  <div class="section" id="mlflow-model-registry">
<span id="registry"></span><h1>MLflow Model Registry<a class="headerlink" href="#mlflow-model-registry" title="Permalink to this headline"> </a></h1>
<p>The MLflow Model Registry component is a centralized model store, set of APIs, and UI, to
collaboratively manage the full lifecycle of an MLflow Model. It provides model lineage (which
MLflow experiment and run produced the model), model versioning, stage transitions (for example from
staging to production), and annotations.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#concepts" id="id1">Concepts</a></p></li>
<li><p><a class="reference internal" href="#adding-an-mlflow-model-to-the-model-registry" id="id2">Adding an MLflow Model to the Model Registry</a></p>
<ul>
<li><p><a class="reference internal" href="#ui-workflow" id="id3">UI Workflow</a></p></li>
<li><p><a class="reference internal" href="#api-workflow" id="id4">API Workflow</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="concepts">
<h2><a class="toc-backref" href="#id1">Concepts</a><a class="headerlink" href="#concepts" title="Permalink to this headline"> </a></h2>
<p>The MLflow Model Registry is a standalone component that introduces several concepts that
describe the full lifecycle of an MLflow Model.</p>
<dl class="simple">
<dt>Model</dt><dd><p>An MLflow Model logged with one of the model flavorâ€™s <code class="docutils literal notranslate"><span class="pre">log_model</span></code> methods.</p>
</dd>
<dt>Registered Model</dt><dd><p>An MLflow Model registered with the MLflow Model Registry. A registered model has a unique name, contains versions, and other metadata.</p>
</dd>
<dt>Model Version</dt><dd><p>Each registered model can have one or many versions. When a new model is added to the Model Registry, it is added as version 1. Each new model registered to the same model name increments the version number.</p>
</dd>
<dt>Model Stage</dt><dd><p>Each model version can be assigned one or many stages. MLflow provides predefined stages for
common use-cases such as <em>Staging</em> and <em>Production</em>.</p>
</dd>
</dl>
</div>
<div class="section" id="adding-an-mlflow-model-to-the-model-registry">
<h2><a class="toc-backref" href="#id2">Adding an MLflow Model to the Model Registry</a><a class="headerlink" href="#adding-an-mlflow-model-to-the-model-registry" title="Permalink to this headline"> </a></h2>
<p>Before a model can be added to the Model Registry you must log it using the <code class="docutils literal notranslate"><span class="pre">log_model</span></code> methods
of the corresponding model flavors. Once a model has been logged, you can add it to the Model Registry through the UI or the API.</p>
<div class="section" id="ui-workflow">
<h3><a class="toc-backref" href="#id3">UI Workflow</a><a class="headerlink" href="#ui-workflow" title="Permalink to this headline"> </a></h3>
<ol class="arabic">
<li><p>From the MLflow Runs detail page, select a logged MLflow Model in the <strong>Artifacts</strong> section.</p></li>
<li><p>Click the <strong>Register Model</strong> button.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_1_register.png" src="_images/oss_registry_1_register.png" />
</div>
</li>
<li><p>In the <strong>Model Name</strong> field, if you are adding a new model, specify a unique name to identify the model. If you are registering a new version to an existing model, pick the existing model name from the dropdown.</p></li>
</ol>
<blockquote>
<div><div class="figure align-default">
<img alt="_images/oss_registry_2_dialog.png" src="_images/oss_registry_2_dialog.png" />
</div>
</div></blockquote>
<p>Once the model is added to the Model Registry you can:</p>
<ul>
<li><p>Navigate to the <strong>Registered Models</strong> page and view the model properties.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_3_overview.png" src="_images/oss_registry_3_overview.png" />
</div>
</li>
<li><p>Go to the <strong>Artifacts</strong> section of the run detail page, click the model, and then click the model version at the top right to view the version you just created.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_3b_version.png" src="_images/oss_registry_3b_version.png" />
</div>
</li>
</ul>
<p>Each model has an overview page that shows the active versions.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_3c_version.png" src="_images/oss_registry_3c_version.png" />
</div>
<p>Click a version to navigate to the version detail page.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_4_version.png" src="_images/oss_registry_4_version.png" />
</div>
<p>On the version detail page you can see model version details and the current stage of the model
version. Click the <strong>Stage</strong> drop-down at the top right, to transition the model
version to one of the other valid stages.</p>
<div class="figure align-default">
<img alt="_images/oss_registry_5_transition.png" src="_images/oss_registry_5_transition.png" />
</div>
</div>
<div class="section" id="api-workflow">
<h3><a class="toc-backref" href="#id4">API Workflow</a><a class="headerlink" href="#api-workflow" title="Permalink to this headline"> </a></h3>
<p>You can register a model using two APIs: <code class="docutils literal notranslate"><span class="pre">register_model</span></code> and <code class="docutils literal notranslate"><span class="pre">log_model</span></code>.</p>
<p>If the model has already been logged, you can add it to the registry with the <code class="docutils literal notranslate"><span class="pre">register_model</span></code> API, referencing the model by its URI.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">mlflow</span><span class="o">.</span><span class="n">register_model</span><span class="p">(</span><span class="s2">&quot;runs:/e148278107274..832/artifacts/model&quot;</span><span class="p">,</span> <span class="s2">&quot;EmailMarketingCampaign&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the model has not been logged, pass <code class="docutils literal notranslate"><span class="pre">registered_model_name</span></code> to <code class="docutils literal notranslate"><span class="pre">log_model</span></code> to log the model under the specified registered model.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">mlflow</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span><span class="n">tf_saved_model_dir</span><span class="o">=</span><span class="n">saved_estimator_path</span><span class="p">,</span>
                            <span class="n">tf_meta_graph_tags</span><span class="o">=</span><span class="p">[</span><span class="n">tag_constants</span><span class="o">.</span><span class="n">SERVING</span><span class="p">],</span>
                            <span class="n">tf_signature_def_key</span><span class="o">=</span><span class="s2">&quot;predict&quot;</span><span class="p">,</span>
                            <span class="n">artifact_path</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
                            <span class="n">registered_model_name</span><span class="o">=</span><span class="s2">&quot;EmailMarketingCampaign&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the registered model does not already exist, the registry will create one before creating a new model version.</p>
</div>
<p>To confirm that the model has successfully been registered, call the <code class="docutils literal notranslate"><span class="pre">get_model_version_details</span></code> API:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">tracking</span><span class="o">.</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_model_version_details</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;EmailMarketingCampaign&quot;</span><span class="p">,</span>
                                 <span class="n">version</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>You can query for the latest version of each registered model by stage using the <code class="docutils literal notranslate"><span class="pre">get_latest_versions</span></code> API:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">get_latest_versions</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;EmailMarketingCampaign&quot;</span><span class="p">,</span>
                           <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Staging&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Newly-registered model versions are added to the registry with stage <strong>None</strong>. To update the stage, call the <code class="docutils literal notranslate"><span class="pre">update_model_version</span></code> API:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">update_model_version</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;EmailMarketingCampaign&quot;</span><span class="p">,</span>
                            <span class="n">version</span> <span class="o">=</span> <span class="mi">12</span>
                            <span class="n">stage</span> <span class="o">=</span> <span class="s2">&quot;Production&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="models.html" class="btn btn-neutral" title="MLflow Models" accesskey="p"><span class="db-icon db-icon-chevron-left"></span> Previous</a>
      
      
        <a href="cli.html" class="btn btn-neutral" title="Command-Line Interface" accesskey="n">Next <span class="db-icon db-icon-chevron-right"></span></a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2019. All rights reserved.
      </p>

  </div> 

</footer>
          </div>
        </div>
      </section>
    </main>
  </page>

  


  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:'./',
      VERSION:'1.5.0',
      COLLAPSE_INDEX:false,
      FILE_SUFFIX:'.html',
      HAS_SOURCE:  true
    };
  </script>
  <script type="text/javascript" src="_static/jquery.js"></script>
  <script type="text/javascript" src="_static/underscore.js"></script>
  <script type="text/javascript" src="_static/doctools.js"></script>
  <script type="text/javascript" src="_static/language_data.js"></script>
  <script type="text/javascript" src="_static/languagesections.js"></script>
  

  <script type="text/javascript" src="_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="_static/js/jquery.waypoints.min.js"></script>

  
  
  
  <script type="text/javascript">var CLIPPY_SVG_PATH = "_static/clippy.svg";</script>
  <script type="text/javascript" src="_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44077918-9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-44077918-9');
</script>


  
    <!-- Algolia Search -->
    <script type="text/javascript">
      var algoliaConfigs = {
        key: 'b6d79a1058f2b3c1ee03bf659ade5a4b',
        index: 'mlflow',
      };
    </script>
    <div id="algolia-wrapper"></div>
    <script src="_static/js/tether.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  
</body>
</html>